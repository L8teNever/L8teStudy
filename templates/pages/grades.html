{% extends "base.html" %}

{% block title %}Noten - L8teStudy{% endblock %}
{% block current_page %}grades{% endblock %}
{% block page_title %}Noten{% endblock %}

{% block fab %}
<button class="fab visible" id="main-fab" onclick="openCreateGradeSheet()" aria-label="Neue Note hinzufÃ¼gen">
    <i data-lucide="plus" aria-hidden="true"></i>
</button>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', async function () {
        try {
            lucide.createIcons();
            window.currentUser = {
                name: "{{ user.username }}",
                is_admin: {{ 'true' if user.is_admin else 'false' }
        },
        is_super_admin: { { 'true' if user.is_super_admin else 'false' } },
        className: "{{ active_class.name if active_class else (user.school_class.name if user.school_class else '') }}",
            class_id: { { active_class.id if active_class else (user.class_id if user.class_id else 0) }}
            };
    await renderGrades();
        } catch (e) {
        console.error('Error initializing grades page:', e);
    }
    });
</script>
{% endblock %}